## Задание (обычная)

Настроить nginx по заданному тз:
1. Должен работать по https c сертификатом
2. Настроить принудительное перенаправление HTTP-запросов (порт 80) на HTTPS (порт 443) для обеспечения безопасного соединения.
3. Использовать alias для создания псевдонимов путей к файлам или каталогам на сервере.
4. Настроить виртуальные хосты для обслуживания нескольких доменных имен на одном сервере.

<b>Результат:</b> Предположим, что у вас есть два пет проекта на одном сервере, которые должны быть доступны по https. Настроенный вами веб сервер умеет работать по https, относить нужный запрос к нужному проекту, переопределять пути исходя из требований пет проектов.
В качестве пет проектов можете использовать что-то свое, можете что-то опенсорсное, можете просто код из трех строчек.



## Ход работы
### Установка Nginx
Работа будет сделана на MacOS. В нашей группе есть полное разнообразие ОС: Linux (Дима), Windows (Арина), MacOS (Серёжа) и виртуалки. Серёжа вытянул короткую спичку.
1. Установим nginx с помощью команды ```brew install nginx```.

![Install](img/install.jpg)

2. Проверим успешность уcтановки ```brew servises start nginx```.
   
![Start](img/start.jpg)

### Создание сертификатов

> Secure Socket Layer (SSL, слой защищенных сокетов) — это криптографический протокол, выпущенный Netscape в 1995 году. Этот протокольный уровень может располагаться поверх HTTP, тем самым добавляя в конец букву S (HTTPS), которая означает secure.

1. Создадим самоподписанный сертификат. Сгенерируем ключ для ROOT_CA (корневой сертификат), зададим пароль. Параметр ```–days``` установлен на 365, значит сертификат действителен в течение следующих 365 дней. Параметр ```x509``` указывает, что это будет самозаверяющий сертификат. На выходе получим два файла: <b>root_ca.key</b> - приватный ключ корневого центра сертификации. <b>root_ca.cert</b> - самоподписанный корневой сертификат.
   
<b>Важно:</b> Центры сертификации не проверяют самоподписанные сертификаты. Таким образом, они не так безопасны, как проверенные! Но в нашей работе это не главное.

![SLL](img/ssl1.jpg)

2. В приложении Apple Configurator добавим профиль нашего центра, чтобы подключаться по https. После этого редактируем файл nginx.conf. Меняем порт подключения и вставляем ссылки на сертификат и ключ.






### 


### 


### Не хочется потерять эти материалы по теме:
1. [Введение в OpenSSL: основы криптографиии](https://habr.com/ru/companies/otus/articles/666700/)
